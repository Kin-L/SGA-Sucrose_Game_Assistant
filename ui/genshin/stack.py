# -*- coding:gbk -*-
from qfluentwidgets import CompactSpinBox
from ui.element.ui_part import Independent
from ui.element.control import *


class Local:
    def __init__(self, stack):
        # 初始化窗口
        self.page_local = Widget(stack)
        stack.addWidget(self.page_local)
        # 添加控件
        self.label_local = Label(self.page_local, (0, 12, 180, 18), "设置页面：原神 运行方式")
        self.line_local0 = Line(self.page_local, (0, 42, 395, 3))

        self.label_overall = Label(self.page_local, (0, 50, 180, 27), "全局设置：")
        self.label_start = Label(self.page_local, (0, 90, 80, 27), "服务器")
        self.combo_server = Combobox(self.page_local, (80, 90, 100, 32))
        self.combo_server.addItems(["官服", "B服"])
        self.label_start = Label(self.page_local, (0, 130, 80, 27), "启动路径")
        self.line_start = Lineedit(self.page_local, (0, 160, 385, 33))
        self.line_local1 = Line(self.page_local, (0, 202, 395, 3))

        self.label_single = Label(self.page_local, (0, 210, 220, 27), "独立运行设置：")
        self.independent = Independent(self.page_local, (0, 250, 350, 70))


class Team:
    def __init__(self, stack):
        # 初始化窗口
        self.page_team = Widget(stack)
        stack.addWidget(self.page_team)
        # 添加控件
        self.label_team = Label(self.page_team, (0, 12, 180, 18), "设置页面：切换标准队伍")
        self.label_team_tip = Label(self.page_team, (90, 80, 220, 27), "切换标准队伍 暂无配置项目。")


dispatch_dir = {
    "蒙德": ["水晶矿,白银矿(1)", "水晶矿,白银矿(2)", "摩拉", "兽肉,禽肉", "禽蛋,甜甜花", "白萝卜,胡萝卜"],
    "璃月": ["水晶矿,白银矿", "摩拉1", "摩拉2", "马尾,金鱼草", "白萝卜,胡萝卜", "莲蓬,松茸"],
    "稻妻": ["摩拉1", "摩拉2", "兽肉,禽蛋", "禽肉,海草", "白萝卜,堇瓜", "甜甜花,日落果"],
    "须弥": ["摩拉", "蔷薇,苹果", "松茸,蘑菇", "禽蛋,日落果", "香辛果,胡萝卜", "墩墩桃,松果"],
    "枫丹": ["摩拉", "汐藻,蘑菇", "茉洁草,禽蛋", "久雨莲,兽肉", "泡泡桔,禽肉", "甜甜花,薄荷"]}


class Disp:
    def __init__(self, stack):
        # 初始化窗口
        self.page_dispatch = Widget(stack)
        stack.addWidget(self.page_dispatch)
        # 添加控件
        self.label_dispatch = Label(self.page_dispatch, (0, 12, 180, 18), "设置页面：探索派遣")

        self.label_area = Label(self.page_dispatch, (20, 45, 180, 27), "地区选择")
        self.label_mat = Label(self.page_dispatch, (180, 45, 180, 27), "材料选择")

        self.area0 = Combobox(self.page_dispatch, (0, 80, 100, 32))
        self.area1 = Combobox(self.page_dispatch, (0, 120, 100, 32))
        self.area2 = Combobox(self.page_dispatch, (0, 160, 100, 32))
        self.area3 = Combobox(self.page_dispatch, (0, 200, 100, 32))
        self.area4 = Combobox(self.page_dispatch, (0, 240, 100, 32))

        self.mat0 = Combobox(self.page_dispatch, (140, 80, 180, 32))
        self.mat1 = Combobox(self.page_dispatch, (140, 120, 180, 32))
        self.mat2 = Combobox(self.page_dispatch, (140, 160, 180, 32))
        self.mat3 = Combobox(self.page_dispatch, (140, 200, 180, 32))
        self.mat4 = Combobox(self.page_dispatch, (140, 240, 180, 32))

        self.area0.addItems(["蒙德", "璃月", "稻妻", "须弥", "枫丹"])
        self.area1.addItems(["蒙德", "璃月", "稻妻", "须弥", "枫丹"])
        self.area2.addItems(["蒙德", "璃月", "稻妻", "须弥", "枫丹"])
        self.area3.addItems(["蒙德", "璃月", "稻妻", "须弥", "枫丹"])
        self.area4.addItems(["蒙德", "璃月", "稻妻", "须弥", "枫丹"])

        self.mat0.addItems(dispatch_dir["蒙德"])
        self.mat1.addItems(dispatch_dir["蒙德"])
        self.mat2.addItems(dispatch_dir["蒙德"])
        self.mat3.addItems(dispatch_dir["蒙德"])
        self.mat4.addItems(dispatch_dir["蒙德"])

        self.area0.currentIndexChanged.connect(lambda: self.list_change(self.area0, self.mat0))
        self.area1.currentIndexChanged.connect(lambda: self.list_change(self.area1, self.mat1))
        self.area2.currentIndexChanged.connect(lambda: self.list_change(self.area2, self.mat2))
        self.area3.currentIndexChanged.connect(lambda: self.list_change(self.area3, self.mat3))
        self.area4.currentIndexChanged.connect(lambda: self.list_change(self.area4, self.mat4))
        self.area0.setCurrentIndex(0)
        self.area1.setCurrentIndex(0)
        self.area2.setCurrentIndex(0)
        self.area3.setCurrentIndex(0)
        self.area4.setCurrentIndex(0)
        self.mat0.setCurrentIndex(0)
        self.mat1.setCurrentIndex(0)
        self.mat2.setCurrentIndex(0)
        self.mat3.setCurrentIndex(0)
        self.mat4.setCurrentIndex(0)

        self.redisp = Check(self.page_dispatch, (0, 285, 100, 25), "再次派遣")

    @staticmethod
    def list_change(fa, fm):
        fm.clear()
        fm.addItems(dispatch_dir[fa.currentText()])


class Trans:
    def __init__(self, stack):
        # 初始化窗口
        self.page_trans = Widget(stack)
        stack.addWidget(self.page_trans)
        # 添加控件
        self.label_trans = Label(self.page_trans, (0, 12, 200, 18), "设置页面：使用参量质变仪")
        self.LineEdit0 = Lineedit(self.page_trans, (0, 50, 385, 33))
        self.LineEdit1 = Lineedit(self.page_trans, (0, 100, 385, 33))
        self.LineEdit2 = Lineedit(self.page_trans, (0, 150, 385, 33))
        self.LineEdit3 = Lineedit(self.page_trans, (0, 200, 385, 33))
        self.LineEdit4 = Lineedit(self.page_trans, (0, 250, 385, 33))


class Fly:
    def __init__(self, stack):
        # 初始化窗口
        self.page_fly = Widget(stack)
        stack.addWidget(self.page_fly)
        # 添加控件
        self.label_fly = Label(self.page_fly, (0, 12, 180, 18), "设置页面：捕捉晶蝶")
        self.fly0 = Check(self.page_fly, (0, 45, 140, 50), "雨林化城郭左方\n沙漠活力之家下方")
        self.fly1 = Check(self.page_fly, (0, 110, 140, 22), "沙漠阿如村上方")
        self.fly2 = Check(self.page_fly, (0, 165, 140, 22), "沙漠舍身陷坑下方")
        self.fly3 = Check(self.page_fly, (0, 220, 140, 22), "层岩巨渊地面七天神像")
        self.fly4 = Check(self.page_fly, (0, 275, 140, 22), "稻妻平海砦")


class Concentrate:
    def __init__(self, stack):
        # 初始化窗口
        self.page_concentrate = Widget(stack)
        stack.addWidget(self.page_concentrate)
        # 添加控件
        self.label_concentrate = Label(self.page_concentrate, (0, 12, 180, 18), "设置页面：合成浓缩树脂")
        self.label_concentrate_tip = Label(self.page_concentrate, (90, 80, 220, 27), "合成浓缩树脂 暂无配置项目。")


class Pot:
    def __init__(self, stack):
        # 初始化窗口
        self.page_pot = Widget(stack)
        stack.addWidget(self.page_pot)
        # 添加控件
        self.label_pot = Label(self.page_pot, (0, 12, 180, 18), "设置页面：领取尘歌壶")
        self.label_pot_tip = Label(self.page_pot, (90, 80, 220, 27), "领取尘歌壶 暂无配置项目。")


class Mail:
    def __init__(self, stack):
        # 初始化窗口
        self.page_mail = Widget(stack)
        stack.addWidget(self.page_mail)
        # 添加控件
        self.label_mail = Label(self.page_mail, (0, 12, 180, 18), "设置页面：领取邮件")
        self.label_mail_tip = Label(self.page_mail, (90, 80, 220, 27), "领取邮件 暂无配置项目。")


class Tree:
    def __init__(self, stack):
        # 初始化窗口
        self.page_tree = Widget(stack)
        stack.addWidget(self.page_tree)
        # 添加控件
        self.label_tree = Label(self.page_tree, (0, 12, 180, 18), "设置页面：采集木材")
        self.CompactSpinBox = CompactSpinBox(self.page_tree)
        self.CompactSpinBox.setGeometry(QtCore.QRect(0, 40, 120, 30))

        self.tree0 = Check(self.page_tree, (0, 90, 120, 22), "桦木")
        self.tree1 = Check(self.page_tree, (130, 90, 120, 22), "萃华木")
        self.tree2 = Check(self.page_tree, (260, 90, 120, 22), "松木")
        self.tree3 = Check(self.page_tree, (0, 135, 120, 22), "却砂木")
        self.tree4 = Check(self.page_tree, (130, 135, 120, 22), "竹节")
        self.tree5 = Check(self.page_tree, (260, 135, 120, 22), "垂香木")
        self.tree6 = Check(self.page_tree, (0, 180, 120, 22), "杉木")
        self.tree7 = Check(self.page_tree, (130, 180, 120, 22), "梦见木")
        self.tree8 = Check(self.page_tree, (260, 180, 120, 22), "枫木")
        self.tree9 = Check(self.page_tree, (0, 216, 120, 40), "孔雀木\n御伽木")
        self.tree10 = Check(self.page_tree, (130, 225, 120, 22), "御伽木")
        self.tree11 = Check(self.page_tree, (260, 216, 120, 40), "业果木\n辉木")
        self.tree12 = Check(self.page_tree, (0, 270, 120, 22), "证悟木")
        self.tree13 = Check(self.page_tree, (130, 270, 120, 22), "刺葵木")
        self.tree14 = Check(self.page_tree, (260, 270, 120, 22), "悬铃木")
        self.tree15 = Check(self.page_tree, (0, 315, 120, 22), "椴木")
        self.tree16 = Check(self.page_tree, (130, 315, 120, 22), "白岑木")
        self.tree17 = Check(self.page_tree, (260, 315, 120, 22), "香柏木")
        self.tree18 = Check(self.page_tree, (0, 360, 120, 22), "炬木")


class GenshinStack(Local, Team, Disp, Trans, Fly, Concentrate, Pot, Mail, Tree):
    def __init__(self, widget, location):
        # 功能堆叠窗口
        self.stack = Stack(widget, location)
        Local.__init__(self, self.stack)
        Team.__init__(self, self.stack)
        Disp.__init__(self, self.stack)
        Trans.__init__(self, self.stack)
        Fly.__init__(self, self.stack)
        Concentrate.__init__(self, self.stack)
        Pot.__init__(self, self.stack)
        Mail.__init__(self, self.stack)
        Tree.__init__(self, self.stack)
        